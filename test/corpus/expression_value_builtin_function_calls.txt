===
Expression: Values: Builtin function call: System information
===

a := arch()

a := num_cpus()

a := os()

a := os_family()

---

(file
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call)))))

===
Expression: Values: Builtin function call: External commands
===

a := shell('powershell')

a := shell("bash", "-c")

a := shell(
  `bash`,
  "-c",
  subcommand_ident,
)

a := shell("bash", arch())

---

(file
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (function_parameters
            (expression
              (value
                (string
                  (raw_string)))))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (function_parameters
            (expression
              (value
                (string
                  (normal_string))))
            (expression
              (value
                (string
                  (normal_string)))))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (function_parameters
            (expression
              (value
                (backtick)))
            (expression
              (value
                (string
                  (normal_string))))
            (expression
              (value
                (identifier))))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (function_parameters
            (expression
              (value
                (string
                  (normal_string))))
            (expression
              (value
                (builtin_function_call)))))))))

===
Expression: Values: Builtin function call: Environment variables: `env_var`
===

a := env_var("HOME")

a := env_var(
  os(),
)

---

(file
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (string
                (normal_string))))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (builtin_function_call))))))))

===
Expression: Values: Builtin function call: Environment variables: `env_var_or_default`
===

a := env_var_or_default("HOME", "default")

a := env_var_or_default(
  "HOME",
  os(),
)

---

(file
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (string
                (normal_string))))
          (expression
            (value
              (string
                (normal_string))))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (string
                (normal_string))))
          (expression
            (value
              (builtin_function_call))))))))

===
Expression: Values: Builtin function call: Environment variables: `env`
===

a := env("HOME")

a := env("HOME",)

a := env("HOME", "default")

a := env("HOME", "default",)

---

(file
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (string
                (normal_string))))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (string
                (normal_string))))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (string
                (normal_string))))
          (expression
            (value
              (string
                (normal_string))))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (string
                (normal_string))))
          (expression
            (value
              (string
                (normal_string)))))))))

===
Expression: Values: Builtin function call: Invocation information
===

a := is_dependency()

---

(file
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call)))))

===
Expression: Values: Builtin function call: Invocation directory
===

a := invocation_directory()

a := invocation_dir()

a := invocation_directory_native()

a := invocation_dir_native()

---

(file
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call)))))

===
Expression: Values: Builtin function call: Justfile
===

a := justfile()

a := justfile_dir()

a := justfile_directory()

---

(file
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call)))))

===
Expression: Values: Builtin function call: Source
===

a := source_dir()

a := source_directory()

a := source_file()

---

(file
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call)))))

===
Expression: Values: Builtin function call: Just executable
===

a := just_executable()

---

(file
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call)))))

===
Expression: Values: Builtin function call: Just pid
===

a := just_pid()

---

(file
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call)))))

===
Expression: Values: Builtin function call: String manipulation
===

a := append(suffix, s)

a := prepend(prefix, s)

a := encode_uri_component(s)

a := quote(s)

a := replace(s, from, to)

a := replace_regex(s, regex, replacement)

a := trim(s)

a := trim_end(s)

a := trim_end_match(s, pat)

a := trim_end_matches(s, pat)

a := trim_start(s)

a := trim_start_match(s, pat)

a := trim_start_matches(s, pat)

# Properly test 3 args builtins

a := replace(
  "s",
  'from',
  trim_start("some string"),
)

---

(file
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))
          (expression
            (value
              (identifier)))
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))
          (expression
            (value
              (identifier)))
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))
          (expression
            (value
              (identifier)))))))
  (comment)
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (string
                (normal_string))))
          (expression
            (value
              (string
                (raw_string))))
          (expression
            (value
              (builtin_function_call
                (expression
                  (value
                    (string
                      (normal_string))))))))))))

===
Expression: Values: Builtin function call: Case conversion
===

a := capitalize(s)

a := kebabcase(s)

a := lowercamelcase(s)

a := lowercase(s)

a := shoutykebabcase(s)

a := shoutysnakecase(s)

a := snakecase(s)

a := titlecase(s)

a := uppercamelcase(s)

a := uppercase(s)

---

(file
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier))))))))

===
Expression: Values: Builtin function call: Path manipulation: fallible
===

a := absolute_path(s)

a := canonicalize(s)

a := extension(s)

a := file_name(s)

a := file_stem(s)

a := parent_dir(s)

a := parent_directory(s)

a := without_extension(s)

---

(file
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier))))))))

===
Expression: Values: Builtin function call: Path manipulation: infallible
===

a := clean(s)

a := join(a)
a := join(a,)

a := join(a, b)
a := join(a, b,)

a := join(a, b, c)
a := join(a, arch(), c,)

a := join(a, b, c, d)
a := join(a, clean(a), c, os(),)

a := join(a, b, c, 'd', e)
a := join(a, b, c, (d), "e",)

---

(file
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (function_parameters
            (expression
              (value
                (identifier))))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (function_parameters
            (expression
              (value
                (identifier))))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (function_parameters
            (expression
              (value
                (identifier)))
            (expression
              (value
                (identifier))))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (function_parameters
            (expression
              (value
                (identifier)))
            (expression
              (value
                (identifier))))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (function_parameters
            (expression
              (value
                (identifier)))
            (expression
              (value
                (identifier)))
            (expression
              (value
                (identifier))))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (function_parameters
            (expression
              (value
                (identifier)))
            (expression
              (value
                (builtin_function_call)))
            (expression
              (value
                (identifier))))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (function_parameters
            (expression
              (value
                (identifier)))
            (expression
              (value
                (identifier)))
            (expression
              (value
                (identifier)))
            (expression
              (value
                (identifier))))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (function_parameters
            (expression
              (value
                (identifier)))
            (expression
              (value
                (builtin_function_call
                  (expression
                    (value
                      (identifier))))))
            (expression
              (value
                (identifier)))
            (expression
              (value
                (builtin_function_call))))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (function_parameters
            (expression
              (value
                (identifier)))
            (expression
              (value
                (identifier)))
            (expression
              (value
                (identifier)))
            (expression
              (value
                (string
                  (raw_string))))
            (expression
              (value
                (identifier))))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (function_parameters
            (expression
              (value
                (identifier)))
            (expression
              (value
                (identifier)))
            (expression
              (value
                (identifier)))
            (expression
              (value
                (expression
                  (value
                    (identifier)))))
            (expression
              (value
                (string
                  (normal_string))))))))))

===
Expression: Values: Builtin function call: Filesystem access
===

a := path_exists(p)

---

(file
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier))))))))

===
Expression: Values: Builtin function call: Error reporting
===

a := error(p)

---

(file
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier))))))))

===
Expression: Values: Builtin function call: UUID and Hash generation
===

a := blake3(s)

a := blake3_file(f)

a := sha256(s)

a := sha256(f)

a := uuid()

---

(file
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call)))))

===
Expression: Values: Builtin function call: Random
===

a := choose(n, alphabet)

---

(file
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))
          (expression
            (value
              (identifier))))))))

===
Expression: Values: Builtin function call: Datetime
===

a := datetime(fmt)

a := datetime_utc(fmt)

---

(file
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier))))))))

===
Expression: Values: Builtin function call: Semantic versions
===

a := semver_matches(version, requirement)

---

(file
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call
          (expression
            (value
              (identifier)))
          (expression
            (value
              (identifier))))))))

===
Expression: Values: Builtin function call: XDG Directories
===

a := cache_dir()

a := cache_directory()

a := config_dir()

a := config_directory()

a := config_local_dir()

a := config_local_directory()

a := data_dir()

a := data_directory()

a := data_local_dir()

a := data_local_directory()

a := executable_dir()

a := executable_directory()

a := home_dir()

a := home_directory()

---

(file
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call))))
  (assignment
    (identifier)
    (expression
      (value
        (builtin_function_call)))))
